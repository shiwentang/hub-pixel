<!DOCTYPE html>
<html lang="en">
    <head>
        <title> Dashboard</title>

        <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1341.0.min.js"></script>

        <!-- Bootstrap core CSS -->
        <link href="./assets/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom styles -->
        <link href="./assets/css/dashboard.css" rel="stylesheet">

        <!-- api gateway generated sdk -->
        <script src="./assets/js/sdk/lib/axios/dist/axios.standalone.js"></script>
        <script src="./assets/js/sdk/lib/CryptoJS/rollups/hmac-sha256.js"></script>
        <script src="./assets/js/sdk/lib/CryptoJS/rollups/sha256.js"></script>
        <script src="./assets/js/sdk/lib/CryptoJS/components/hmac.js"></script>
        <script src="./assets/js/sdk/lib/CryptoJS/components/enc-base64.js"></script>
        <script src="./assets/js/sdk/lib/url-template/url-template.js"></script>
        <script src="./assets/js/sdk/lib/apiGatewayCore/sigV4Client.js"></script>
        <script src="./assets/js/sdk/lib/apiGatewayCore/apiGatewayClient.js"></script>
        <script src="./assets/js/sdk/lib/apiGatewayCore/simpleHttpClient.js"></script>
        <script src="./assets/js/sdk/lib/apiGatewayCore/utils.js"></script>

        <script src="./assets/js/sdk/apigClient.js"></script>

    </head>

    <body>
        <div class="wrapper">
            <div class="navigation">
                <div class="web-title">Hub Pixel </div>
                <ul>
                    <li><a href="#overview" class="active">Overview</a></li>
                    <li><a href="#search" class="inactive">Search</a></li>
                    <li><a href="#upload" class="inactive">Upload</a></li>
                </ul>
                <div class="logout"><a href="index.html" class="inactive">Log out</a></div>
            </div>

            <div class="main-content">
                <div class="main-active">
                    <h1 id="greeting"> </h1>
                    <div class="header">
                        <h1>  Overview</h1>
                        <div class="dashboard">
                            <!-- <div class="card">
                              <h2>Users View</h2>
                              <div class="count-view" id="view-num"></div>
                            </div>

                            <div class="card">
                                <h2>Data Upload</h2>
                                <div class="count-upload" id="upload-num"></div>
                            </div> -->

                        </div>


                        <div class="graph-box">
                            <div class="box">
                                <h2>Zip Code Heatmap</h2>
                                <body onload="initMap()">
                                    <div id="map"></div>
                                </body>
                                <div id="regions_div" style="width: 500px; height: 500px;"></div>
                            </div>
                        </div>
                        
                        <div class="graph-box">
                            <div class="box">
                                <h2>Top 5 Most Popular Product</h2>
                                <canvas id="product_chart" width="500" height="500"></canvas>
                            </div>
                        </div>

                        <div class="graph-box">
                            <div class="box">
                                <h2>Product Count Based on Age</h2>
                                <canvas id="age_chart" width="500" height="500"></canvas>
                            </div>
                        </div>

                    </div>              
                </div>

                <div class="main-inactive">
                    <div class="header">
                        <h1>  Search</h1>

                        <!-- <div class="search-box">
                            <input type="text" id="search" placeholder="Search...">
                            <button type="submit" onclick="searchUser()">Submit</button>
                        </div> -->

                        <button class="export-btn"  type="button" onclick="searchUser()">Show</button>
                        <button class="export-btn" type="button" onclick="exportUser()">Export</button>
                        
                        <br></br>
                        <table id="user-list" class="user-list"></table>
                        

                        
                    </div>
                </div>

                <div class="main-inactive">
                    <div class="header">
                        <h1>  Upload</h1>

                        <div class="upload-wrapper">
                            <div class="upload-box">
                                <input type="file" id="data-upload"/>
                                
                                <form action="" method="GET">
                                    <button type="button" class="upload-btn" onclick="uploadData()" >Upload</button>
                                </form>
            
                            </div>
                            

                        </div>
                        

                        <p id="upload-msg"></p>

                        <p>Please upload a csv file. Below is a template.</p>

                        <img src="assets/images/template.png" height = 50 alt="template">
                        
                        
                    </div>
                </div>

            </div>


            <script>
                let nav = document.querySelectorAll('.navigation li>a');
                let content = document.querySelectorAll('.main-content>div');

                for (let i=0; i<nav.length; i++){
                    nav[i].addEventListener('click', function(){
                        for (let j=0; j<nav.length; j++){
                            nav[j].className = 'inactive';
                            content[j].className = 'main-inactive';
                        }
                        nav[i].className = 'active';
                        content[i].className = 'main-active';
                    })
                }

            </script>
    
            

        <script>
            var sdk = apigClientFactory.newClient({apiKey:"FBIlUg19c65trjbP8ATAL8duQpQay6E1597ZEDqO", region: 'us-east-1'});
        </script>


        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script src="./assets/js/jwt-decode.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="./assets/js/bootstrap.min.js"></script>
        <script src="./assets/js/main.js"></script>



    </body>
</html>